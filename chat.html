<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Cambridge Copilot</title>
    <link rel="canonical" href="https://copilot.schooltool.io/chat.html">
    <meta property="og:url" content="https://copilot.schooltool.io/chat.html">
    <meta name="twitter:description" content="Your AI study assistant">
    <meta name="twitter:card" content="summary">
    <meta property="og:type" content="website">
    <meta name="description" content="Your study copilot">
    <meta property="og:image" content="https://copilot.schooltool.io/assets/img/final_transparent.webp">
    <meta name="twitter:image" content="https://copilot.schooltool.io/assets/img/final_transparent.webp">
    <meta name="twitter:title" content="Cambridge Copilot">
    <link rel="icon" type="image/png" sizes="433x576" href="/assets/img/final_transparent.webp?h=1919b81e621ce6a871984f09988e467f">
    <link rel="icon" type="image/png" sizes="433x576" href="/assets/img/final_transparent.webp?h=1919b81e621ce6a871984f09988e467f">
    <link rel="icon" type="image/png" sizes="433x576" href="/assets/img/final_transparent.webp?h=1919b81e621ce6a871984f09988e467f">
    <link rel="icon" type="image/png" sizes="433x576" href="/assets/img/final_transparent.webp?h=1919b81e621ce6a871984f09988e467f">
    <link rel="icon" type="image/png" sizes="433x576" href="/assets/img/final_transparent.webp?h=1919b81e621ce6a871984f09988e467f">
    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css?h=a5485e0ab00205da91ef331b68d4354e">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic&amp;display=swap">
    <link rel="stylesheet" href="/assets/css/Bold-BS4-Responsive-Pricing-Table-Snippet.css?h=9f653af16624015a08748e962a56124e">
    <link rel="stylesheet" href="/assets/css/Bootstrap-Callout-Danger.css?h=f59b2825ea6994c6bb17d3c000b8f9a3">
    <link rel="stylesheet" href="/assets/css/Bootstrap-Callout-Info.css?h=15b43fafd5928244e49dc20add914164">
    <link rel="stylesheet" href="/assets/css/Download-App-Section.css?h=ba3dd5470d2e66e052cc49d2ec479459">
    <link rel="stylesheet" href="/assets/css/style.css?h=64ff3b41bbf3b0eecc9d06eae4e207d7">
</head>

<body class="text-center" style="background: rgb(0,0,0);">
    <!-- Start: Navbar With Button -->
    <nav class="navbar navbar-light navbar-expand-md sticky-top py-3" style="background: #000000;text-decoration: none;">
        <div class="container"><a class="navbar-brand d-flex align-items-center" href="/index.html"><img src="/assets/img/final_transparent.webp?h=1919b81e621ce6a871984f09988e467f" style="height: auto;width: 30px;background: linear-gradient(var(--bs-red), var(--bs-blue));border-radius: 6px;margin-right: 10px;" width="50" height="67"><span style="color: #ffffff;font-weight: bold;font-size: 17px;">Cambridge Copilot</span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-2" style="color: rgba(0, 0, 0, 0.55);background: #ffffff;"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navcol-2">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" href="/pricing.html" style="color: #ffffff;">Pricing</a></li>
                    <li class="nav-item"><a class="nav-link" href="/pricing.html" style="color: #ffffff;">Download</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" style="color: #ffffff;">About</a></li>
                </ul><button class="btn btn-primary" type="button" style="margin-right: 10px;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-file-earmark-person-fill" style="font-size: 22px;">
                        <path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm2 5.755V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-.245S4 12 8 12s5 1.755 5 1.755z"></path>
                    </svg>&nbsp;Sign up</button><button class="btn btn-primary" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-person-badge-fill" style="font-size: 22px;">
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm4.5 0a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm5 2.755C12.146 12.825 10.623 12 8 12s-4.146.826-5 1.755V14a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-.245z"></path>
                    </svg>&nbsp; Login</button>
            </div>
        </div>
    </nav><!-- End: Navbar With Button -->
    <div class="container">
        <div class="chat-container">
            <div id="chat-messages"></div>
            <div class="container">
                <div class="row">
                    <div class="col-md-9"><input class="form-control-lg form-control" type="text" id="user-input" placeholder="Type a message..." style="width: 100%;"></div>
                    <div class="col-md-3"><button class="btn btn-primary btn-lg" type="submit" id="send-button" style="width: 50%;float: right;">Ask</button></div>
                </div>
            </div>
            <div></div>
        </div><!-- Start: JavaScript --><script>
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');

        let messageOrder = 1; // Counter to keep track of message order
        let messages = []; // Array to store all messages

        // Function to send a message to the backend
        async function sendMessage(message) {
            const url = 'https://faas-blr1-8177d592.doserverless.co/api/v1/web/fn-3f654592-68ef-49a6-a44d-081ec4e1f4c5/models/chat';

            const payload = {
                key: key,
                message: {
                    messages: messages.concat({ role: "user", content: message })
                }
            };

            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(payload)
            });

            const result = await response.json();

            // Extract the assistant's message from the response
            const assistantMessage = result.message;

            // Display the assistant's response
            displayMessage(assistantMessage, 'assistant-message');

            // Add the assistant's message to the messages array
            messages.push({ role: "assistant", content: assistantMessage });
        }

        // Function to display a message in the chat interface
        function displayMessage(content, className) {
            const messageElement = document.createElement('div');
            messageElement.className = 'message ' + className;
            messageElement.innerText = content;
            messageElement.dataset.order = messageOrder++;
            chatMessages.appendChild(messageElement);

            // Scroll to the latest message
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Event listener for the send button
        sendButton.addEventListener('click', () => {
            const userInputValue = userInput.value.trim();

            if (userInputValue !== '') {
                // Display the user's message
                displayMessage(userInputValue, 'user-message');

                // Send the user's message to the backend
                sendMessage(userInputValue);

                // Clear the input field
                userInput.value = '';
            }
        });

        // Event listener for the Enter key in the input field
        userInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                sendButton.click();
                event.preventDefault();
            }
        });

        // Initial system message
        const systemMessage = 'Cambridge Copilot';
        displayMessage(systemMessage, 'assistant-message');
        messages.push({ role: "assistant", content: systemMessage });
    </script><!-- End: JavaScript -->
    </div>
    <script src="/assets/bootstrap/js/bootstrap.min.js?h=79ff9637b74326c362fb6f7f5801a7ba"></script>
    <script src="/assets/js/bs-init.js?h=67ee20cf4e5150919853fca3720bbf0d"></script>
    <script src="/assets/js/blocker.js?h=85807dfe1a3e9ffca0bad8639306d6d0"></script>
    <script src="/assets/js/user.js?h=a1fb20b246cfd6cae764424a18567a8f"></script>
</body>

</html>